@@ -1,11 +1,10 @@
--!strict
--[[
	A LocalScript to create a single, modern, enhanced, and dynamic UI menu.
	A LocalScript to create an ultimate, modern, and professional UI menu.
	This script is designed to be placed in StarterPlayerScripts.

	This version addresses the previous design flaws, providing a much larger,
	more visually appealing UI with a two-panel tabbed layout and a corrected
	minimization feature that properly hides all content.
	This version features a completely redesigned, premium aesthetic, 
	advanced animations, and a confirmation dialog when the menu is closed.
]]

-- SERVICES
@@ -17,16 +16,17 @@ local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- CONFIGURATION
local UI_SIZE = UDim2.new(0, 600, 0, 500) -- Increased UI size for better aesthetics
local MINIMIZED_HEIGHT = 45 -- Height of the title bar
local TAB_WIDTH = 150
local TITLE_FONT = Enum.Font.SourceSansBold
local BODY_FONT = Enum.Font.SourceSans
local FONT_COLOR = Color3.fromRGB(220, 220, 220)
local FROSTED_BACKGROUND = Color3.fromRGB(25, 25, 25)
local BORDER_COLOR = Color3.fromRGB(60, 60, 60)
local UI_SIZE = UDim2.new(0, 650, 0, 550) -- Larger size for a more professional feel
local MINIMIZED_HEIGHT = 50 -- Height of the title bar
local TAB_WIDTH = 180
local TITLE_FONT = Enum.Font.JosefinSans
local BODY_FONT = Enum.Font.Ubuntu
local FONT_COLOR = Color3.fromRGB(240, 240, 240)
local PRIMARY_COLOR = Color3.fromRGB(20, 20, 25) -- Dark, professional background
local ACCENT_COLOR = Color3.fromRGB(85, 170, 255) -- Vibrant, cyber blue accent
local BORDER_COLOR = Color3.fromRGB(80, 80, 90)
local SHADOW_COLOR = Color3.fromRGB(0, 0, 0)
local ACCENT_COLOR = Color3.fromRGB(170, 85, 255) -- Vibrant purple accent
local TWEEN_SPEED = 0.3

-- Tab-specific colors for visual separation
local BOSS_ACCENT = Color3.fromRGB(255, 85, 85) -- Red
@@ -38,7 +38,7 @@ local NPC_ESP_DISTANCE = 500
local TRACER_COLOR = Color3.fromRGB(255, 170, 0)
local TRACER_THICKNESS = 0.2
local TRACER_TRANSPARENCY = 0.2
local TWEEN_SPEED = 200
local TWEEN_TRAVEL_SPEED = 200

-- Get the player's PlayerGui to store the UI
local player = Players.LocalPlayer
@@ -61,15 +61,14 @@ screenGui.Parent = PlayerGui
-- === UI Utility Functions ========================================
-- =================================================================

-- Creates a main container frame with a modern, frosted glass look
-- Creates a main container frame with a modern, layered look
local function createMainFrame(size: UDim2, position: UDim2, parent: Instance)
	local frame = Instance.new("Frame")
	frame.Name = "MainFrame"
	frame.Size = size
	frame.Position = position
	frame.AnchorPoint = Vector2.new(0.5, 0.5)
	frame.BackgroundColor3 = FROSTED_BACKGROUND
	frame.BackgroundTransparency = 0.2
	frame.BackgroundColor3 = PRIMARY_COLOR
	frame.BorderSizePixel = 0
	frame.Parent = parent

@@ -86,14 +85,26 @@ local function createMainFrame(size: UDim2, position: UDim2, parent: Instance)
	local shadow = Instance.new("UIStroke")
	shadow.Name = "ShadowStroke"
	shadow.Color = SHADOW_COLOR
	shadow.Thickness = 3
	shadow.Thickness = 5
	shadow.Transparency = 0.6
	shadow.Parent = frame

	local innerPanel = Instance.new("Frame")
	innerPanel.Name = "InnerPanel"
	innerPanel.Size = UDim2.new(1, -2, 1, -2)
	innerPanel.Position = UDim2.new(0, 1, 0, 1)
	innerPanel.BackgroundColor3 = PRIMARY_COLOR:Lerp(Color3.new(1,1,1), 0.05)
	innerPanel.BorderSizePixel = 0
	innerPanel.Parent = frame

	local innerCorner = Instance.new("UICorner")
	innerCorner.CornerRadius = UDim.new(0, 14)
	innerCorner.Parent = innerPanel

	return frame
end

-- Creates the draggable title bar with an accent gradient
-- Creates the draggable title bar with an animated gradient
local function createTitleBar(parent: Instance, title: string)
	local titleBar = Instance.new("Frame")
	titleBar.Name = "TitleBar"
@@ -103,7 +114,8 @@ local function createTitleBar(parent: Instance, title: string)
	titleBar.Parent = parent

	local gradient = Instance.new("UIGradient")
	gradient.Color = ColorSequence.new(ACCENT_COLOR, ACCENT_COLOR:Lerp(Color3.new(0,0,0), 0.5))
	gradient.Name = "TitleGradient"
	gradient.Color = ColorSequence.new(ACCENT_COLOR:Lerp(PRIMARY_COLOR, 0.4), ACCENT_COLOR)
	gradient.Rotation = 90
	gradient.Parent = titleBar

@@ -115,48 +127,51 @@ local function createTitleBar(parent: Instance, title: string)
	titleLabel.TextColor3 = FONT_COLOR
	titleLabel.TextScaled = true
	titleLabel.Font = TITLE_FONT
	titleLabel.Text = "Enhanced Menu"
	titleLabel.Text = title
	titleLabel.TextXAlignment = Enum.TextXAlignment.Left
	titleLabel.TextYAlignment = Enum.TextYAlignment.Center
	titleLabel.Parent = titleBar
	
	-- Animate the title gradient for a dynamic effect
	TweenService:Create(gradient, TweenInfo.new(3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true, 0), {Rotation = 180}):Play()

	-- Minimize button
	local minimizeButton = Instance.new("TextButton")
	minimizeButton.Name = "MinimizeButton"
	minimizeButton.Size = UDim2.new(0, 30, 0, 30)
	minimizeButton.Position = UDim2.new(1, -75, 0.5, -15)
	minimizeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	minimizeButton.Size = UDim2.new(0, 40, 0, 40)
	minimizeButton.Position = UDim2.new(1, -95, 0.5, -20)
	minimizeButton.BackgroundColor3 = PRIMARY_COLOR
	minimizeButton.BorderSizePixel = 0
	minimizeButton.Text = "-"
	minimizeButton.TextColor3 = FONT_COLOR
	minimizeButton.TextSize = 25
	minimizeButton.TextSize = 30
	minimizeButton.Font = TITLE_FONT
	minimizeButton.Parent = titleBar

	local minCorner = Instance.new("UICorner")
	minCorner.CornerRadius = UDim.new(0, 8)
	minCorner.CornerRadius = UDim.new(0, 10)
	minCorner.Parent = minimizeButton

	-- Nuke button
	local nukeButton = Instance.new("TextButton")
	nukeButton.Name = "NukeButton"
	nukeButton.Size = UDim2.new(0, 30, 0, 30)
	nukeButton.Position = UDim2.new(1, -40, 0.5, -15)
	nukeButton.Size = UDim2.new(0, 40, 0, 40)
	nukeButton.Position = UDim2.new(1, -50, 0.5, -20)
	nukeButton.BackgroundColor3 = BOSS_ACCENT:Lerp(Color3.new(0,0,0), 0.5)
	nukeButton.BorderSizePixel = 0
	nukeButton.Text = "X"
	nukeButton.TextColor3 = FONT_COLOR
	nukeButton.TextSize = 20
	nukeButton.TextSize = 25
	nukeButton.Font = TITLE_FONT
	nukeButton.Parent = titleBar

	local nukeCorner = Instance.new("UICorner")
	nukeCorner.CornerRadius = UDim.new(0, 8)
	nukeCorner.CornerRadius = UDim.new(0, 10)
	nukeCorner.Parent = nukeButton

	-- Hover effects for buttons
	minimizeButton.MouseEnter:Connect(function() TweenService:Create(minimizeButton, TweenInfo.new(0.2), {BackgroundColor3 = ACCENT_COLOR}):Play() end)
	minimizeButton.MouseLeave:Connect(function() TweenService:Create(minimizeButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(50, 50, 50)}):Play() end)
	minimizeButton.MouseLeave:Connect(function() TweenService:Create(minimizeButton, TweenInfo.new(0.2), {BackgroundColor3 = PRIMARY_COLOR}):Play() end)
	nukeButton.MouseEnter:Connect(function() TweenService:Create(nukeButton, TweenInfo.new(0.2), {BackgroundColor3 = BOSS_ACCENT}):Play() end)
	nukeButton.MouseLeave:Connect(function() TweenService:Create(nukeButton, TweenInfo.new(0.2), {BackgroundColor3 = BOSS_ACCENT:Lerp(Color3.new(0,0,0), 0.5)}):Play() end)

@@ -169,7 +184,7 @@ local function createTabButton(parent: Instance, name: string, accentColor: Colo
	button.Name = name .. "Tab"
	button.LayoutOrder = layoutOrder
	button.Size = UDim2.new(1, -10, 0, 50)
	button.BackgroundColor3 = FROSTED_BACKGROUND:Lerp(Color3.new(1,1,1), 0.1)
	button.BackgroundColor3 = PRIMARY_COLOR:Lerp(Color3.new(1,1,1), 0.1)
	button.BackgroundTransparency = 0.5
	button.BorderSizePixel = 0
	button.TextColor3 = FONT_COLOR
@@ -181,11 +196,24 @@ local function createTabButton(parent: Instance, name: string, accentColor: Colo
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 8)
	corner.Parent = button

	-- Hover effects
	button.MouseEnter:Connect(function() TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = FROSTED_BACKGROUND:Lerp(Color3.new(1,1,1), 0.25)}):Play() end)
	button.MouseLeave:Connect(function() TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = FROSTED_BACKGROUND:Lerp(Color3.new(1,1,1), 0.1)}):Play() end)

	-- Glowing stroke for a professional look
	local stroke = Instance.new("UIStroke")
	stroke.Color = accentColor
	stroke.Thickness = 0
	stroke.Transparency = 1
	stroke.Parent = button
	
	-- Hover effects
	button.MouseEnter:Connect(function() 
		TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = PRIMARY_COLOR:Lerp(Color3.new(1,1,1), 0.25)}):Play()
		TweenService:Create(stroke, TweenInfo.new(0.3), {Thickness = 2, Transparency = 0}):Play()
	end)
	button.MouseLeave:Connect(function() 
		TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = PRIMARY_COLOR:Lerp(Color3.new(1,1,1), 0.1)}):Play() 
		TweenService:Create(stroke, TweenInfo.new(0.3), {Thickness = 0, Transparency = 1}):Play()
	end)

	return button
end

@@ -195,7 +223,7 @@ local function createToggleButton(parent: Instance, text: string, accentColor: C
	container.Name = "ToggleContainer"
	container.LayoutOrder = layoutOrder
	container.Size = UDim2.new(1, -20, 0, 45)
	container.BackgroundColor3 = FROSTED_BACKGROUND
	container.BackgroundColor3 = PRIMARY_COLOR:Lerp(Color3.new(1,1,1), 0.1)
	container.BackgroundTransparency = 0.4
	container.BorderSizePixel = 0
	container.Parent = parent
@@ -215,7 +243,7 @@ local function createToggleButton(parent: Instance, text: string, accentColor: C
	toggleBox.Name = "ToggleBox"
	toggleBox.Size = UDim2.new(0, 20, 0, 20)
	toggleBox.Position = UDim2.new(0, 10, 0.5, -10)
	toggleBox.BackgroundColor3 = if initialActiveState then accentColor else Color3.fromRGB(80, 80, 80)
	toggleBox.BackgroundColor3 = if initialActiveState then accentColor else Color3.fromRGB(50, 50, 50)
	toggleBox.BorderSizePixel = 1
	toggleBox.BorderColor3 = BORDER_COLOR
	toggleBox.Parent = button
@@ -245,23 +273,86 @@ local function createToggleButton(parent: Instance, text: string, accentColor: C
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Parent = button

	-- Hover effect
	-- Hover effect for the container
	container.MouseEnter:Connect(function() TweenService:Create(container, TweenInfo.new(0.2), {BackgroundTransparency = 0.25}):Play() end)
	container.MouseLeave:Connect(function() TweenService:Create(container, TweenInfo.new(0.2), {BackgroundTransparency = 0.4}):Play() end)

	return button, checkmark, toggleBox
end


-- Confirmation dialog
local function createConfirmationDialog(parent)
	local dialogFrame = Instance.new("Frame")
	dialogFrame.Name = "ConfirmationDialog"
	dialogFrame.Size = UDim2.new(0, 300, 0, 150)
	dialogFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
	dialogFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	dialogFrame.BackgroundColor3 = PRIMARY_COLOR:Lerp(Color3.new(1,1,1), 0.1)
	dialogFrame.BackgroundTransparency = 0
	dialogFrame.Visible = false
	dialogFrame.Parent = parent
	
	local dialogCorner = Instance.new("UICorner")
	dialogCorner.CornerRadius = UDim.new(0, 12)
	dialogCorner.Parent = dialogFrame
	
	local dialogLabel = Instance.new("TextLabel")
	dialogLabel.Name = "DialogLabel"
	dialogLabel.Size = UDim2.new(1, -20, 0, 50)
	dialogLabel.Position = UDim2.new(0, 10, 0, 10)
	dialogLabel.BackgroundTransparency = 1
	dialogLabel.TextColor3 = FONT_COLOR
	dialogLabel.Text = "Are you sure you want to close the menu?"
	dialogLabel.TextScaled = true
	dialogLabel.Font = TITLE_FONT
	dialogLabel.Parent = dialogFrame
	
	local noButton = Instance.new("TextButton")
	noButton.Name = "NoButton"
	noButton.Size = UDim2.new(0, 100, 0, 40)
	noButton.Position = UDim2.new(0.5, -120, 1, -55)
	noButton.BackgroundColor3 = ACCENT_COLOR:Lerp(Color3.new(0,0,0), 0.5)
	noButton.BorderSizePixel = 0
	noButton.Text = "No"
	noButton.TextColor3 = FONT_COLOR
	noButton.TextSize = 20
	noButton.Font = TITLE_FONT
	noButton.Parent = dialogFrame
	
	local noCorner = Instance.new("UICorner")
	noCorner.CornerRadius = UDim.new(0, 8)
	noCorner.Parent = noButton
	
	local yesButton = Instance.new("TextButton")
	yesButton.Name = "YesButton"
	yesButton.Size = UDim2.new(0, 100, 0, 40)
	yesButton.Position = UDim2.new(0.5, 20, 1, -55)
	yesButton.BackgroundColor3 = BOSS_ACCENT
	yesButton.BorderSizePixel = 0
	yesButton.Text = "Yes"
	yesButton.TextColor3 = FONT_COLOR
	yesButton.TextSize = 20
	yesButton.Font = TITLE_FONT
	yesButton.Parent = dialogFrame
	
	local yesCorner = Instance.new("UICorner")
	yesCorner.CornerRadius = UDim.new(0, 8)
	yesCorner.Parent = yesButton

	return dialogFrame, yesButton, noButton
end

-- =================================================================
-- === UI Construction and Logic ===================================
-- =================================================================

-- DRAGGING FUNCTIONALITY (Same as before, but encapsulated)
-- DRAGGING FUNCTIONALITY
local isDragging = false
local dragStartPos = Vector2.new(0, 0)
local dragStartFramePosition = UDim2.new(0, 0, 0, 0)
local activeFrame = nil
local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local tweenInfo = TweenInfo.new(TWEEN_SPEED, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

local function setupDrag(frame: Frame, titleBar: Frame)
	titleBar.InputBegan:Connect(function(input)
@@ -294,15 +385,16 @@ end)

-- Create the main UI elements
local mainFrame = createMainFrame(UI_SIZE, UDim2.new(0.5, 0, 0.5, 0), screenGui)
local titleBar, minimizeButton, nukeButton = createTitleBar(mainFrame, "Enhanced Menu")
local titleBar, minimizeButton, nukeButton = createTitleBar(mainFrame, "Ultimate Menu")
setupDrag(mainFrame, titleBar)
local confirmationDialog, yesButton, noButton = createConfirmationDialog(screenGui)

local contentFrame = Instance.new("Frame")
contentFrame.Name = "ContentFrame"
contentFrame.Size = UDim2.new(1, 0, 1, -MINIMIZED_HEIGHT)
contentFrame.Position = UDim2.new(0, 0, 0, MINIMIZED_HEIGHT)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = mainFrame
contentFrame.Parent = mainFrame:FindFirstChild("InnerPanel")

local contentListLayout = Instance.new("UIListLayout")
contentListLayout.Padding = UDim.new(0, 0)
@@ -316,11 +408,11 @@ local tabContainer = Instance.new("Frame")
tabContainer.Name = "TabContainer"
tabContainer.Size = UDim2.new(0, TAB_WIDTH, 1, 0)
tabContainer.BackgroundTransparency = 0.8
tabContainer.BackgroundColor3 = FROSTED_BACKGROUND
tabContainer.BackgroundColor3 = PRIMARY_COLOR:Lerp(Color3.new(1,1,1), 0.1)
tabContainer.Parent = contentFrame

local tabListLayout = Instance.new("UIListLayout")
tabListLayout.Padding = UDim.new(0, 5)
tabListLayout.Padding = UDim.new(0, 10)
tabListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
tabListLayout.SortOrder = Enum.SortOrder.LayoutOrder
tabListLayout.Parent = tabContainer
@@ -392,7 +484,7 @@ local function createTabAndContent(name: string, accentColor: Color3, layoutOrde
	button.MouseButton1Click:Connect(function()
		for _, frame in pairs(contentFrames) do frame.Visible = false end
		for _, otherButton in pairs(tabButtons) do
			TweenService:Create(otherButton, tweenInfo, {BackgroundColor3 = FROSTED_BACKGROUND:Lerp(Color3.new(1,1,1), 0.1)}):Play()
			TweenService:Create(otherButton, tweenInfo, {BackgroundColor3 = PRIMARY_COLOR:Lerp(Color3.new(1,1,1), 0.1)}):Play()
		end
		contentFrame.Visible = true
		activeTabName = name
@@ -471,7 +563,7 @@ local function createPlayerEspCheckbox(espName)
		local newState = not playerCheckboxState[espName]
		playerCheckboxState[espName] = newState
		checkmark.Visible = newState
		TweenService:Create(toggleBox, tweenInfo, {BackgroundColor3 = if newState then ACCENT_COLOR else Color3.fromRGB(80, 80, 80)}):Play()
		TweenService:Create(toggleBox, tweenInfo, {BackgroundColor3 = if newState then ACCENT_COLOR else Color3.fromRGB(50, 50, 50)}):Play()
	end)
end
for espName, _ in pairs(playerEspTypes) do createPlayerEspCheckbox(espName) end
@@ -501,7 +593,7 @@ local function createNpcEspCheckbox(npcName)
		local newState = not npcCheckboxState[npcName]
		npcCheckboxState[npcName] = newState
		checkmark.Visible = newState
		TweenService:Create(toggleBox, tweenInfo, {BackgroundColor3 = if newState then ESP_ACCENT else Color3.fromRGB(80, 80, 80)}):Play()
		TweenService:Create(toggleBox, tweenInfo, {BackgroundColor3 = if newState then ESP_ACCENT else Color3.fromRGB(50, 50, 50)}):Play()
	end)
end
for npcName, _ in pairs(npcTypes) do createNpcEspCheckbox(npcName) end
@@ -514,7 +606,7 @@ local levelStatusFrame = Instance.new("Frame")
levelStatusFrame.Name = "LevelStatusFrame"
levelStatusFrame.LayoutOrder = 2
levelStatusFrame.Size = UDim2.new(1, -20, 0, 50)
levelStatusFrame.BackgroundColor3 = FROSTED_BACKGROUND
levelStatusFrame.BackgroundColor3 = PRIMARY_COLOR:Lerp(Color3.new(1,1,1), 0.1)
levelStatusFrame.BackgroundTransparency = 0.5
levelStatusFrame.BorderSizePixel = 0
levelStatusFrame.ClipsDescendants = true
@@ -536,7 +628,7 @@ levelStatusLabel.Parent = levelStatusFrame
farmLevelToggle.MouseButton1Click:Connect(function()
	isFarmLevelActive = not isFarmLevelActive
	farmLevelCheckmark.Visible = isFarmLevelActive
	TweenService:Create(farmLevelToggleBox, tweenInfo, {BackgroundColor3 = if isFarmLevelActive then FARM_ACCENT else Color3.fromRGB(80, 80, 80)}):Play()
	TweenService:Create(farmLevelToggleBox, tweenInfo, {BackgroundColor3 = if isFarmLevelActive then FARM_ACCENT else Color3.fromRGB(50, 50, 50)}):Play()
	levelStatusFrame.Visible = isFarmLevelActive
end)
task.spawn(function()
@@ -586,7 +678,7 @@ fruitStatusLabel.Parent = fruitFinderContentFrame
fruitFinderToggle.MouseButton1Click:Connect(function()
	isFruitFinderActive = not isFruitFinderActive
	fruitFinderCheckmark.Visible = isFruitFinderActive
	TweenService:Create(fruitFinderToggleBox, tweenInfo, {BackgroundColor3 = if isFruitFinderActive then FRUIT_ACCENT else Color3.fromRGB(80, 80, 80)}):Play()
	TweenService:Create(fruitFinderToggleBox, tweenInfo, {BackgroundColor3 = if isFruitFinderActive then FRUIT_ACCENT else Color3.fromRGB(50, 50, 50)}):Play()
end)

local function findNearestFruit()
@@ -624,7 +716,7 @@ task.spawn(function()
				local fruitPosition = if nearestFruit:IsA("Model") then nearestFruit.PrimaryPart.Position else nearestFruit.Handle.Position

				local distance = (myRootPart.Position - fruitPosition).Magnitude
				local tweenTime = distance / TWEEN_SPEED
				local tweenTime = distance / TWEEN_TRAVEL_SPEED

				if distance > 20 then
					tweeningToFruit = true
@@ -657,7 +749,7 @@ end)
-- =================================================================
-- === Event Handling & Cleanup ====================================
-- =================================================================
-- ESP FUNCTIONALITY (UNCHANGED)
-- ESP FUNCTIONALITY
local playerLabels = {}
local npcLabels = {}
local playerTracers = {}
@@ -671,7 +763,7 @@ local function createPlayerLabel()
	label.TextStrokeColor3 = Color3.new(0, 0, 0)
	label.TextStrokeTransparency = 0.5
	label.TextScaled = true
	label.Font = Enum.Font.SourceSansBold
	label.Font = Enum.Font.JosefinSans
	label.ZIndex = 10
	label.Parent = screenGui
	return label
@@ -748,7 +840,7 @@ local function updatePlayerTracer(tracer, targetPart, myRootPart)
	local middle = startPos:Lerp(endPos, 0.5)
	local tracerCFrame = CFrame.new(middle, endPos)
	tracerCFrame = tracerCFrame * CFrame.Angles(math.pi / 2, 0, 0)
	tracer.CFrame = tracerCFrame
	tracer.CFrame = tracerCframe
	local mesh = tracer:FindFirstChildOfClass("CylinderMesh")
	if mesh then mesh.Scale = Vector3.new(TRACER_THICKNESS, distance, TRACER_THICKNESS) end
	tracer.Transparency = TRACER_TRANSPARENCY
@@ -793,7 +885,7 @@ local function createNpcLabel(npcName)
	label.TextStrokeColor3 = Color3.new(0, 0, 0)
	label.TextStrokeTransparency = 0.5
	label.TextScaled = true
	label.Font = Enum.Font.SourceSansBold
	label.Font = Enum.Font.JosefinSans
	label.Text = npcName
	label.Name = npcName .. "ESPLabel"
	label.ZIndex = 10
@@ -853,11 +945,22 @@ RunService.RenderStepped:Connect(function()
	if activeTabName == "ESP" and (npcCheckboxState["Set Home Point"] or npcCheckboxState["Boat Dealer"]) then updateNpcLabels() else for _, label in pairs(npcLabels) do label.Visible = false end end
end)

-- Nuke button now shows the confirmation dialog
nukeButton.MouseButton1Click:Connect(function() 
	mainFrame.Visible = false
	confirmationDialog.Visible = true
end)

yesButton.MouseButton1Click:Connect(function()
	removeAllPlayerLabels()
	removeAllNpcLabels()
	removeAllPlayerTracers()
	if TracerContainer then TracerContainer:Destroy() end
	if screenGui then screenGui:Destroy() end
	script:Destroy()
end)

noButton.MouseButton1Click:Connect(function()
	confirmationDialog.Visible = false
	mainFrame.Visible = true
end)
